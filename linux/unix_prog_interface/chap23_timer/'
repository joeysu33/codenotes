/*!
 * 使用SIGALRM和阻塞read来实现一个超时退出读操作
 */

#include <stdio.h>
#include <signal.h>
#include <memory.h>

static volatile sig_atomic_t gotSignal ;

void
sigaction_handler(int sig, siginfo_t* si, void* ucontext) {
    gotSignal = 1;
}

int
main() {
    struct sigaction sa;

    memset(&sa, 0, sizeof(sa));
    sigemptyset(&sa.sa_mask);
    sa.sa_flags &= ~SA_RESTART; //去掉SA_RESTART标志位
    return 0;
}


